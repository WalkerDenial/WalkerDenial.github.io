<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  
  <meta name="keywords" content="Walker Denial">
  <meta name="description" content="This is Walker Denial&#39;s blog!">
  
  <title>Walker Denial</title>
  
    <!-- stylesheets list from config.yml -->
    
      <link rel="stylesheet" href="/css/materialize.min.css">
    
      <link rel="stylesheet" href="/css/main.min.css">
    
  
  <style type="text/css">
      html{
          font-family: sans-serif;
          font-weight: 300;
      }
      @font-face {
          font-family: 'Material Icons';
          font-style: normal;
          font-weight: 400;
          src: url(/fonts/MaterialIcons-Regular.eot);
          src: url(/fonts/MaterialIcons-Regular.woff2) format('woff2'),
          url(/fonts/MaterialIcons-Regular.woff) format('woff'),
          url(/fonts/MaterialIcons-Regular.ttf) format('truetype')
      }
  </style>
<meta name="generator" content="Hexo 7.0.0-rc2"><link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>
<body>
<div id="menu-box"><a href="javascript:void(0)" id="menu" data-activates="slide-out" class="button-collapse menu" ><span class="nav-btn"></span></a></div>
<div id="menu-outer">
  <div id="menu-inner">
      <ul id="slide-out" class="side-nav" >
    <div class="nav-header"  style="background-image: url(/images/header-bg.png);background-color:#26A69A">
    <div class="header-box"><img src="/images/profile.png" ondragstart="return false;"></div>
    <p>Walker Denial</p>
    <div class="nav-link">
        
        <a href="https://twitter.com/WalkerDenial" target="_blank"> <div class="link-box twitter"></div></a>
        
        
        <a  href="https://github.com/WalkerDenial" target="_blank"><div class="link-box github"></div></a>
        
        
        <a href="mailto:mailto:WalkerDenial@gmail.com"><div class="link-box email"></div></a>
        
        
        <a href="http://weibo.com/u/3213135930" target="_blank"><div class="link-box weibo"></div></a>
        
        
        <a href="https://www.zhihu.com/people/walkerdenial/activities" target="_blank"> <div class="link-box zhihu"></div></a>
        
    </div>
    <div class="nav-search">
        <form id="search-form"> <!-- 搜索框相关 -->
            <input type="text" id="local-search-input" name="q" results="0" placeholder="搜索..." class="search form-control" autocomplete="off" autocorrect="off"/>
            <div class="nav-search-img"><i class="material-icons">search</i></div>
        </form>
        <div id="local-search-result"></div> <!-- 搜索结果区 -->
        <p class='no-result'>无搜索结果</p>
    </div>
</div>
    <!--Homepage-->

<li class="nav-list">
    <a href="/" target="_self">
        <div class="nav-ico"><i class="material-icons">home</i> </div><p>主页</p>
    </a>
</li>

<!--archives-->

<li class="nav-list dropdown-btn">
    <a  class=""  target="_self">
        <div class="nav-ico"><i class="material-icons">assignment</i></div><p>归档</p><div class="dropdown-ico"><i class="material-icons">arrow_drop_down</i></div>
    </a>
</li>

<ul class="dropdown-menu dropdown" >
    <li class="nav-dropdown-list">
        <a class="archive-link" href="/archives/2022/06/">June 2022<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2022/05/">May 2022<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2022/04/">April 2022<span class="archive-count">4</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2022/03/">March 2022<span class="archive-count">2</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/12/">December 2021<span class="archive-count">3</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/11/">November 2021<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/09/">September 2021<span class="archive-count">3</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/08/">August 2021<span class="archive-count">3</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/04/">April 2021<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/03/">March 2021<span class="archive-count">12</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/02/">February 2021<span class="archive-count">2</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/01/">January 2021<span class="archive-count">6</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2020/12/">December 2020<span class="archive-count">5</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2020/11/">November 2020<span class="archive-count">6</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2020/04/">April 2020<span class="archive-count">2</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2018/01/">January 2018<span class="archive-count">2</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2017/12/">December 2017<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2017/11/">November 2017<span class="archive-count">6</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2017/08/">August 2017<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2017/07/">July 2017<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2017/03/">March 2017<span class="archive-count">6</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2017/02/">February 2017<span class="archive-count">20</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2017/01/">January 2017<span class="archive-count">2</span></a>
    </li>
</ul>
<!--categories-->

<li class="nav-list dropdown-btn">
    <a   class=""  target="_self">
        <div class="nav-ico"><i class="material-icons">dashboard</i></div><p>分类</p><div class="dropdown-ico"><i class="material-icons">arrow_drop_down</i></div>
    </a>
</li>

<ul class="dropdown-menu dropdown" >
    <li class="nav-dropdown-list">
        <a class="category-link" href="/categories/Algorithm/">Algorithm<span class="category-count">1</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/ES6/">ES6<span class="category-count">2</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/Flutter/">Flutter<span class="category-count">7</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/Gradle/">Gradle<span class="category-count">2</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/Java/">Java<span class="category-count">6</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/Kotlin/">Kotlin<span class="category-count">4</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/RPC/">RPC<span class="category-count">3</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/UML/">UML<span class="category-count">1</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E5%85%B6%E4%BB%96/">其他<span class="category-count">2</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E5%86%99%E4%BD%9C/">写作<span class="category-count">1</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端<span class="category-count">10</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统<span class="category-count">7</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E8%87%AA%E5%AD%A6/">自学<span class="category-count">9</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/">计算机系统结构<span class="category-count">7</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络<span class="category-count">2</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式<span class="category-count">27</span></a>
    </li>
</ul>
<!--tags-->

<li class="nav-list">
    <a href="/archives" target="_self">
        <div class="nav-ico"><i class="material-icons">bookmark</i> </div><p>标签</p>
    </a>
</li>

<!--photo-->

<!--friends-->

<!--about-->

<li class="nav-list">
    <a href="/about" target="_self">
        <div class="nav-ico"><i class="material-icons">copyright</i> </div><p>关于</p>
    </a>
</li>


</ul>

  </div>
</div>

<div id="content-outer">
  <div id="content-inner">
    
<article id="post">
  <div class="post-page-title"  style="background-color:#26A69A;background-image:url(/images/random/vateral-7.png)" >
  <h2>Dart 基础</h2>
    
  <p>作者 : Walker Denial &nbsp&nbsp 发布于 : <time datetime="2021-09-29T15:16:00.000Z">
          2021-09-29
    </time>
  </p>
    
  </div>
  <div class="post-page-content">
  <p>使用一个框架，首先要学习的就是其对应的开发语言，在 Flutter 中，选择 Dart 作为对应的开发语言。</p>
<p>Dart 在静态语法方面和 Java 非常相似，如类型定义、函数声明、泛型等，动态方面又和 JavaScript 很像，如函数式特性、异步支持等。</p>
<h2 id="基础类型"><a href="#基础类型" class="headerlink" title="基础类型"></a>基础类型</h2><ol>
<li>Number</li>
<li>String</li>
<li>Boolean</li>
<li>List</li>
<li>Map</li>
<li>Set</li>
<li>Rune</li>
<li>Symbol</li>
</ol>
<h3 id="Number-数值"><a href="#Number-数值" class="headerlink" title="Number 数值"></a>Number 数值</h3><p><code> num</code> 是数字类型的父类，有两个子类 <code>int</code> 和 <code>double</code>。</p>
<p>Dart 当中的 int，在编码的时候可以将 int 当成 Java 的 short、int、long 来使用，如果我们写的 Dart 代码超过了 4 个字节，那么 Dart 会将其编译成类似 Java 当中的 Long，否则编译成 Java 中的 short 或者 int。</p>
<blockquote>
<p>bitLength 属性：可以查看 num 变量占用几个字节。</p>
</blockquote>
<h3 id="String-字符串"><a href="#String-字符串" class="headerlink" title="String 字符串"></a>String 字符串</h3><p> Dart 字符串是 UTF-16 编码的字符序列。可以使用 <strong>单引号</strong> 或者 <strong>双引号</strong> 来创建字符串，<strong>单引号</strong> 和 <strong>双引号</strong> 可以嵌套使用，否则需要使用 <code>\</code> 进行转义。字符串中也可以引用变量与表达式。</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;Walker&quot;</span>;</span><br><span class="line"><span class="comment">// 如果插入一个简单的标识符，而后面没有紧跟更多的字母数字文本，那么 &#123;&#125; 应该被省略</span></span><br><span class="line"><span class="keyword">var</span> message = <span class="string">&quot;my name is <span class="subst">$name</span>&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> upperMessage = <span class="string">&quot;my name is <span class="subst">$&#123;name.toUpperCase()&#125;</span>!&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>与 Java 一样可以使用 <code>+</code> 操作符来把字符串拼接，也可以把多个字符串放到一起来实现同样的功能：</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;my name is &quot;</span> + <span class="string">&quot;Walker&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>使用 <code>三个单引号或者双引号</code> 可以创建多行字符串对象：</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str1 = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">You can create</span></span><br><span class="line"><span class="string">multi-line string like this one.</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str2 = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">This is also a </span></span><br><span class="line"><span class="string">multi-line string.</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>提供一个 <code>r</code> 前缀可以创建一个 <code>原始 raw</code> 字符串：</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">r&quot;换行符：\n&quot;</span>); <span class="comment">// 换行符：\n   r: 不需要转义</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;换行符：\\n&quot;</span>); <span class="comment">// 换行符：\n</span></span><br></pre></td></tr></table></figure>

<h3 id="Boolean-布尔值"><a href="#Boolean-布尔值" class="headerlink" title="Boolean 布尔值"></a>Boolean 布尔值</h3><p> Dart 有一个名字为 <code>bool</code> 的类型。只有两个对象是布尔类型的：<code>true</code> 和 <code>false</code>。这一点和 <code>Java</code> 没有太大的区别。</p>
<h3 id="List-列表"><a href="#List-列表" class="headerlink" title="List 列表"></a>List 列表</h3><p>所以编程语言中最常见的集合可能是 <code>数组</code> 或 <code>有序对象组</code>。在 Dart 中，数组就是 <code>List</code> 对象。对 <code>List</code> 进行遍历也和 <code>Java</code> 一样。</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="built_in">print</span>(list[<span class="number">0</span>]); <span class="comment">// List 下标索引从 0 开始</span></span><br><span class="line">list[<span class="number">2</span>] = <span class="number">5</span>; <span class="comment">// 修改元素</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> list = <span class="built_in">List</span>(<span class="number">1</span>);</span><br><span class="line">list[<span class="number">0</span>] = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在 List 字面量之前添加 const 关键字，可以定义一个不变的 list 对象（编译时常量）</span></span><br><span class="line"><span class="keyword">var</span> list = <span class="keyword">const</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">i.add(<span class="number">1</span>); <span class="comment">// 错误，list 不可变</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// List 遍历</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> list) &#123;</span><br><span class="line">	<span class="comment">// todo</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; list.length; i++) &#123;</span><br><span class="line">	<span class="comment">// todo</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Map-映射集合"><a href="#Map-映射集合" class="headerlink" title="Map 映射集合"></a>Map 映射集合</h3><p>键值对相关的对象，键和值可以是任何类型的对象，每个 <code>键</code> 只出现一次，一个 <code>值</code> 则可以出现多次。</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> names = &#123;<span class="string">&quot;f&quot;</span>: <span class="string">&quot;Walker&quot;</span>, <span class="string">&quot;s&quot;</span>: <span class="string">&quot;Denial&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> names = <span class="built_in">Map</span>();</span><br><span class="line">names[<span class="string">&#x27;f&#x27;</span>] = <span class="string">&quot;Walker&quot;</span>;</span><br><span class="line">names[<span class="string">&#x27;s&#x27;</span>] = <span class="string">&quot;Denial&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>与 List 一样，在 Map 字面量之前添加 <code>const</code> 关键字，可以定义一个编译时常量的 Map。</p>
<h3 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h3><p>在 Dart 中 <code>Set</code> 是一个元素唯一且无序的集合。 Dart 为 <code>Set</code> 提供了 <code>Set</code> 字面量和 <code>Set</code> 类型。</p>
<p>下面是通过字面量创建 <code>Set</code> 的一个简单示例：</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> halogens = &#123;<span class="string">&#x27;fluorine&#x27;</span>, <span class="string">&#x27;chlorine&#x27;</span>, <span class="string">&#x27;bromine&#x27;</span>, <span class="string">&#x27;iodine&#x27;</span>, <span class="string">&#x27;astatine&#x27;</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> names = &lt;<span class="built_in">String</span>&gt;&#123;&#125;;</span><br></pre></td></tr></table></figure>

<p>如果忘记在 {} 上注释类型或赋值到一个未声明类型的变量上，   那么 Dart 会创建一个类型为 <code>Map&lt;dynamic, dynamic&gt;</code> 的对象。</p>
<p>使用 <code>add()</code> 或 <code>addAll()</code> 为已有的 Set 添加元素：</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> elements = &lt;<span class="built_in">String</span>&gt;&#123;&#125;;</span><br><span class="line">elements.add(<span class="string">&#x27;fluorine&#x27;</span>);</span><br><span class="line">elements.addAll(halogens);</span><br></pre></td></tr></table></figure>

<p>在 <code>Set</code> 字面量前增加 <code>const</code> ，来创建一个编译时 <code>Set</code> 常量：</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">final</span> constantSet = <span class="keyword">const</span> &#123;</span><br><span class="line">  <span class="string">&#x27;fluorine&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;chlorine&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;bromine&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;iodine&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;astatine&#x27;</span>,</span><br><span class="line">&#125;;</span><br><span class="line">constantSet.add(<span class="string">&#x27;helium&#x27;</span>); <span class="comment">// 错误</span></span><br></pre></td></tr></table></figure>

<h3 id="Rune-用于在字符串中表示-Unicode-字符"><a href="#Rune-用于在字符串中表示-Unicode-字符" class="headerlink" title="Rune 用于在字符串中表示 Unicode 字符"></a>Rune 用于在字符串中表示 Unicode 字符</h3><p> Unicode 为世界上所有的书写系统中使用的每个 <strong>字母</strong>、<strong>数字</strong> 和 <strong>符号</strong> 定义了唯一的数值。Dart 字符串是 <code>UTF-16</code> 位代码单元字符序列，所以在字符串中表达 32 位 Unicode 值需要新的语法。 Rune 就是 <code>UTF-32</code> 字符集 <code>String</code> 对象。</p>
<p> 表达 Unicode 代码点的常用方法是 \uXXXX，其中 XXXX 是 4 位十六进制值。要指定多于或少于 4 个十六进制数字，需要将值放在大括号中。</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> clapping = <span class="string">&#x27;\u&#123;1f44f&#125;&#x27;</span>; <span class="comment">// 5个16进制 需要使用&#123;&#125;</span></span><br><span class="line"><span class="built_in">print</span>(clapping); <span class="comment">// 👏</span></span><br><span class="line"><span class="comment">// 获得 16 位代码单元</span></span><br><span class="line"><span class="built_in">print</span>(clapping.codeUnits); <span class="comment">// [55357, 56399]</span></span><br><span class="line"><span class="comment">// 获得 unicode 代码</span></span><br><span class="line"><span class="built_in">print</span>(clapping.runes.toList()); <span class="comment">// [128079]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// fromCharCode 根据字符码创建字符串</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">String</span>.fromCharCode(<span class="number">128079</span>));</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">String</span>.fromCharCodes(clapping.runes));</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">String</span>.fromCharCodes([<span class="number">55357</span>, <span class="number">56399</span>]));</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">String</span>.fromCharCode(<span class="number">0x1f44f</span>));</span><br><span class="line"></span><br><span class="line">Runes input = <span class="keyword">new</span> Runes(</span><br><span class="line">  <span class="string">&#x27;\u2665  \u&#123;1f605&#125;  \u&#123;1f60e&#125;  \u&#123;1f47b&#125;  \u&#123;1f596&#125;  \u&#123;1f44d&#125;&#x27;</span>);</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">String</span>.fromCharCodes(input));</span><br></pre></td></tr></table></figure>

<h3 id="Symbols"><a href="#Symbols" class="headerlink" title="Symbols"></a>Symbols</h3><p>操作符标识符，可以看作 C 中的宏。表示编译时的一个常量。</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> i = #A; <span class="comment">// 常量</span></span><br><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">  <span class="built_in">print</span>(i);</span><br><span class="line">  <span class="keyword">switch</span>(i)&#123;</span><br><span class="line">    <span class="keyword">case</span> #A:</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> #B:</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> b = <span class="keyword">new</span> <span class="built_in">Symbol</span>(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">  <span class="built_in">print</span>(#b == b); <span class="comment">// true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明"></a>变量声明</h2><p>变量是一个引用，未初始化的变量值是 <strong>null</strong>。</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> num1 = <span class="number">1</span>; <span class="comment">// 声明方式一，使用 var 进行声明，会进行类型推断</span></span><br><span class="line"><span class="built_in">Object</span> num2 = <span class="number">2</span>; <span class="comment">// 声明方式二，使用 Object 进行声明</span></span><br><span class="line"><span class="built_in">dynamic</span> num3 = <span class="number">3</span>; <span class="comment">// 声明方式三，使用动态类型</span></span><br></pre></td></tr></table></figure>

<h3 id="Object-声明"><a href="#Object-声明" class="headerlink" title="Object 声明"></a>Object 声明</h3><p>与 Java 一样，Object 是所有类的基类，Object 声明的变量可以是任意类型。在 Dart 中，<code>数字</code>、<code>方法</code> 和 <code>null</code> 都是对象。</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Object</span> name = <span class="string">&quot;Hi, Walker&quot;</span>;</span><br><span class="line">name = <span class="string">&quot;Hi, Denial&quot;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="var-声明"><a href="#var-声明" class="headerlink" title="var 声明"></a>var 声明</h3><p>Dart 中比较推荐使用此种方式声明变量。需要注意点如下：</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 场景一：声明时不进行初始化</span></span><br><span class="line"><span class="keyword">var</span> name; <span class="comment">// 注意！注意！注意！此时 name 没有初始化，那么 name 的类型为 dynamic，类型没有限制</span></span><br><span class="line"><span class="comment">// 以下赋值是正确的</span></span><br><span class="line">name = <span class="string">&quot;Walker&quot;</span>;</span><br><span class="line">name = <span class="number">2021</span>;</span><br><span class="line">name = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 场景二：声明时进行初始化</span></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;Walker&quot;</span>; <span class="comment">// 注意！此时 name 初始化了，那么 name 的类型为 String，后续只能以 String 类型进行赋值</span></span><br><span class="line"><span class="comment">// 以下赋值是正确的</span></span><br><span class="line">name = <span class="string">&quot;Walker&quot;</span>;</span><br><span class="line"><span class="comment">// 以下赋值是错误的</span></span><br><span class="line">name = <span class="number">2021</span>;</span><br><span class="line">name = <span class="keyword">true</span>;</span><br></pre></td></tr></table></figure>

<h3 id="dynamic-声明"><a href="#dynamic-声明" class="headerlink" title="dynamic 声明"></a>dynamic 声明</h3><p>dynamic 比较特殊，不是在编译时确定实际类型，而是在运行时。其他行为与 Object 一样。</p>
<h2 id="final-与-const"><a href="#final-与-const" class="headerlink" title="final 与 const"></a>final 与 const</h2><p> 如果不打算改变一个变量，可以使用 <code>final</code> 和 <code>const</code>，它们可以替代任何类型，不过，只能在声明时初始化，且不能改变。</p>
<p>从字面上理解，<code>final</code> 与 <code>const</code> 都是 <strong>不可变</strong> 的，看不出区别，但是 <strong><code>final</code> 是运行时</strong> 常量，而 <strong><code>const</code> 是编译器</strong> 常量，它的值在编译期就可以确定，编译时常量能够让代码运行的更高效。</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 正确，值已确定，并且确定时间不冲突</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&quot;Walker&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> name1 = name + <span class="string">&quot;Denial&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 错误，final 不能在编译时确定值，因此 const 也不能确定值</span></span><br><span class="line"><span class="keyword">final</span> name = <span class="string">&quot;Walker&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> name1 = name + <span class="string">&quot;Denial&quot;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>类的变量可以为 <code>final</code>，但不能是 <code>const</code>。如果 <code>const</code> 变量在类中，需要定义为 <code>static const</code> 静态常量。</p>
</blockquote>
<h2 id="操作符"><a href="#操作符" class="headerlink" title="操作符"></a>操作符</h2><h3 id="类型判定操作符"><a href="#类型判定操作符" class="headerlink" title="类型判定操作符"></a>类型判定操作符</h3><p><code>as</code>、 <code>is</code>、 和 <code>is!</code> 操作符是在运行时判定对象、类型的操作符。</p>
<table>
<thead>
<tr>
<th align="center">操作符</th>
<th align="left">解释</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>as</code></td>
<td align="left">类型转换</td>
</tr>
<tr>
<td align="center"><code>is</code></td>
<td align="left">如果对象是指定的类型返回 true</td>
</tr>
<tr>
<td align="center"><code>is!</code></td>
<td align="left">如果对象是指定的类型返回 false</td>
</tr>
</tbody></table>
<p> <code>as</code> 操作符把对象转换为特定的类型，但是如果无法完成转换则会抛出一个异常。</p>
<p><code>is</code> 和 Java 中的 <code>instanceof</code> 相同</p>
<h3 id="赋值操作符"><a href="#赋值操作符" class="headerlink" title="赋值操作符"></a>赋值操作符</h3><p><code>=</code>、<code>+=</code>、<code>\=</code>、<code>*=</code> 这些不必多说，还有一个 <code>??=</code> 操作符用来指定值为 null 的变量的值。</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">b ??= value; <span class="comment">// 如果 b 是 null，则 value 赋值给 b；</span></span><br><span class="line">             <span class="comment">// 如果不是 null，则 b 的值保持不变</span></span><br></pre></td></tr></table></figure>

<h3 id="条件表达式"><a href="#条件表达式" class="headerlink" title="条件表达式"></a>条件表达式</h3><p>Dart 有两个特殊的操作符可以用来替代 <a target="_blank" rel="noopener" href="http://dart.goodev.org/guides/language/language-tour#if-and-else">if-else</a> 语句：</p>
<ul>
<li><p><code>condition ? expr1 : expr2</code></p>
<p>如果 <em>condition</em> 是 true，执行 <em>expr1</em> (并返回执行的结果)； 否则执行 <em>expr2</em> 并返回其结果。</p>
</li>
<li><p><code>expr1 ?? expr2</code></p>
<p>如果 <em>expr1</em> 不为null，返回其值； 否则执行 <em>expr2</em> 并返回其结果。</p>
</li>
</ul>
<h3 id="级联操作符"><a href="#级联操作符" class="headerlink" title="级联操作符"></a>级联操作符</h3><p>​	级联操作符 (<code>..</code>) 可以在同一个对象上 连续调用多个函数以及访问成员变量。 使用级联操作符可以避免创建 临时变量， 并且写出来的代码看起来 更加流畅：</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">//StringBuffer write就是Java的append</span></span><br><span class="line"><span class="keyword">var</span> sb = <span class="keyword">new</span> <span class="built_in">StringBuffer</span>();</span><br><span class="line">sb..write(<span class="string">&#x27;foo&#x27;</span>)..write(<span class="string">&#x27;bar&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="安全操作符"><a href="#安全操作符" class="headerlink" title="安全操作符"></a>安全操作符</h3><p>Dart 提供了 <code>?.</code> 操作符。左边的操作对象如果为 null 则返回 null。</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="built_in">String</span> sb;</span><br><span class="line"><span class="comment">//空指针</span></span><br><span class="line"><span class="built_in">print</span>(sb.length);</span><br><span class="line"><span class="built_in">print</span>(sb?.length);</span><br></pre></td></tr></table></figure>

<h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="built_in">int</span> add(<span class="built_in">int</span> i, <span class="built_in">int</span> j) &#123;</span><br><span class="line">  <span class="keyword">return</span> i + j;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 也可以选择忽略类型(不推荐)</span></span><br><span class="line">add(i, j) &#123;</span><br><span class="line">  <span class="keyword">return</span> i + j;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 对于只有一个表达式的方法，可以选择使用缩写语法来定义：</span></span><br><span class="line">add(i, j) =&gt; i + j;</span><br><span class="line"><span class="comment">// 在箭头 (=&gt;) 和分号 (;) 之间只能使用一个表达式。</span></span><br></pre></td></tr></table></figure>

<h3 id="一等方法对象"><a href="#一等方法对象" class="headerlink" title="一等方法对象"></a>一等方法对象</h3><p>Dart 是一个真正的面向对象语言，方法也是对象并且具有一种类型 <code>Function</code>。 这意味着，方法可以赋值给变量，也可以当做其他方法的参数。可以把方法当做参数调用另外一个方法</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> list = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="comment">// 将 print 方法作为参数传递给 forEach</span></span><br><span class="line">list.forEach(<span class="built_in">print</span>);</span><br><span class="line"><span class="comment">// 可以将方法赋值给一个变量类型为 Function</span></span><br><span class="line"><span class="keyword">var</span> p = <span class="built_in">print</span>;</span><br><span class="line">list.forEach(p);</span><br></pre></td></tr></table></figure>



<blockquote>
<p>方法可以有两种类型的参数：必需的和可选的。 必需的参数需要在参数列表前面， 后面再定义可选参数。</p>
</blockquote>
<h3 id="可选命名参数"><a href="#可选命名参数" class="headerlink" title="可选命名参数"></a>可选命名参数</h3><p>把方法的参数放到 <code>&#123;&#125;</code> 中就变成可选 <code>命名参数</code>。</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="built_in">int</span> add(&#123;<span class="built_in">int</span> i, <span class="built_in">int</span> j&#125;) &#123;</span><br><span class="line">  <span class="keyword">if</span>(i == <span class="keyword">null</span> || j == <span class="keyword">null</span>)&#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> i + j;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>调用方法的时候，可以使用这种形式 <code>paramName: value</code> 来指定命名参数。例如：</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 无必须参数</span></span><br><span class="line">add()</span><br><span class="line"><span class="comment">// 选择传递参数</span></span><br><span class="line">add(i:<span class="number">1</span>)</span><br><span class="line"><span class="comment">// 位置无关</span></span><br><span class="line">add(i:<span class="number">1</span>, j:<span class="number">2</span>)</span><br><span class="line">add(j:<span class="number">1</span>, i:<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<h3 id="可选位置参数"><a href="#可选位置参数" class="headerlink" title="可选位置参数"></a>可选位置参数</h3><p>把方法的参数放到 <code>[]</code> 中就变成可选位置参数，传值时按照参数位置顺序传递：</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="built_in">int</span> add([<span class="built_in">int</span> i, <span class="built_in">int</span> j]) &#123;</span><br><span class="line">  <span class="keyword">if</span>(i == <span class="keyword">null</span> || j == <span class="keyword">null</span>)&#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> i + j;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1 赋值给 i</span></span><br><span class="line">add(<span class="number">1</span>);</span><br><span class="line"><span class="comment">// 按照顺序赋值</span></span><br><span class="line">add(<span class="number">1</span>,<span class="number">2</span>);</span><br></pre></td></tr></table></figure>

<h3 id="默认参数值"><a href="#默认参数值" class="headerlink" title="默认参数值"></a>默认参数值</h3><p>在定义方法的时候，可选参数可以使用 <code>=</code> 来定义可选参数的默认值。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int add([int i = 1, int j = 2]) =&gt; i + j;</span><br><span class="line">int add(&#123;int i = 1, int j = 2&#125;) =&gt; i + j;</span><br></pre></td></tr></table></figure>

<h3 id="匿名方法"><a href="#匿名方法" class="headerlink" title="匿名方法"></a>匿名方法</h3><p>没有名字的方法，称之为匿名方法，也可以称之为 lambda 或者 closure 闭包。匿名方法的声明为：</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">([<span class="built_in">Type</span>] param1, …) &#123; </span><br><span class="line">  codeBlock; </span><br><span class="line">&#125;; </span><br></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> list = [<span class="string">&#x27;apples&#x27;</span>, <span class="string">&#x27;oranges&#x27;</span>, <span class="string">&#x27;grapes&#x27;</span>, <span class="string">&#x27;bananas&#x27;</span>, <span class="string">&#x27;plums&#x27;</span>];</span><br><span class="line">list.forEach((i) &#123;</span><br><span class="line">  <span class="built_in">print</span>(list[i]);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h2><p>和 Java 不同的是，所有的 Dart 异常是非检查异常。 方法不一定声明了他们所抛出的异常，并且不要求你捕获任何异常。</p>
<p>Dart 提供了 <code>Exception</code> 和 <code>Error</code> 类型， 以及一些子类型。你还可以定义自己的异常类型。但是，Dart 代码可以抛出任何非 null 对象为异常，不仅仅是实现了 <code>Exception</code> 或者 <code>Error</code> 的对象。</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&#x27;这是一个异常&#x27;</span>);</span><br><span class="line"><span class="keyword">throw</span> <span class="string">&#x27;这是一个异常&#x27;</span>;</span><br><span class="line"><span class="keyword">throw</span> <span class="number">123</span>;</span><br></pre></td></tr></table></figure>

<p>与 Java 不同之处在于捕获异常部分，Dart 中捕获异常同样是使用 <code>catch</code> 语句，但是 Dart 中的 <code>catch</code> 无法指定异常类型。需要结合 <code>on</code> 来使用，基本语法如下：</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">	<span class="keyword">throw</span> <span class="number">123</span>;</span><br><span class="line">&#125; <span class="keyword">on</span> <span class="built_in">int</span> <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">	<span class="comment">// 使用 on 指定捕获 int 类型的异常对象       </span></span><br><span class="line">&#125; <span class="keyword">catch</span>(e,s) &#123;</span><br><span class="line">    <span class="comment">// 函数 catch() 可以带有一个或者两个参数，第一个参数为抛出的异常对象，第二个为堆栈信息 (StackTrace 对象)</span></span><br><span class="line">    <span class="keyword">rethrow</span>; <span class="comment">// 使用 rethrow 关键字可以把捕获的异常给重新抛出</span></span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
  </div>
  <!--评论块-->
    

</article>
<nav class="post-nav">
  <!-- Prev Nav -->
    
  <a href="/2021/11/02/Flutter/Dart 类与异步/" id="post_nav-newer" class="post-nav-content prev-content">
      <上一篇
  </a>
    


  <!-- Next Nav -->
    
  <a href="/2021/09/22/Flutter/Flutter 简介/" id="post_nav-older" class="post-nav-content next-content">
      下一篇>
  </a>
    
</nav>
<div class="post-toc-btn"><i class="material-icons">format_list_numbered</i></div>
<div class="post-toc-none"><p>(无)</p></div>
<div class="post-toc-box">
    <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B"><span class="post-toc-text">基础类型</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Number-%E6%95%B0%E5%80%BC"><span class="post-toc-text">Number 数值</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#String-%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="post-toc-text">String 字符串</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Boolean-%E5%B8%83%E5%B0%94%E5%80%BC"><span class="post-toc-text">Boolean 布尔值</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#List-%E5%88%97%E8%A1%A8"><span class="post-toc-text">List 列表</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Map-%E6%98%A0%E5%B0%84%E9%9B%86%E5%90%88"><span class="post-toc-text">Map 映射集合</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Set"><span class="post-toc-text">Set</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Rune-%E7%94%A8%E4%BA%8E%E5%9C%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E8%A1%A8%E7%A4%BA-Unicode-%E5%AD%97%E7%AC%A6"><span class="post-toc-text">Rune 用于在字符串中表示 Unicode 字符</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Symbols"><span class="post-toc-text">Symbols</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E"><span class="post-toc-text">变量声明</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Object-%E5%A3%B0%E6%98%8E"><span class="post-toc-text">Object 声明</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#var-%E5%A3%B0%E6%98%8E"><span class="post-toc-text">var 声明</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#dynamic-%E5%A3%B0%E6%98%8E"><span class="post-toc-text">dynamic 声明</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#final-%E4%B8%8E-const"><span class="post-toc-text">final 与 const</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="post-toc-text">操作符</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E7%B1%BB%E5%9E%8B%E5%88%A4%E5%AE%9A%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="post-toc-text">类型判定操作符</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%B5%8B%E5%80%BC%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="post-toc-text">赋值操作符</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="post-toc-text">条件表达式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E7%BA%A7%E8%81%94%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="post-toc-text">级联操作符</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%AE%89%E5%85%A8%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="post-toc-text">安全操作符</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%96%B9%E6%B3%95"><span class="post-toc-text">方法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%B8%80%E7%AD%89%E6%96%B9%E6%B3%95%E5%AF%B9%E8%B1%A1"><span class="post-toc-text">一等方法对象</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%8F%AF%E9%80%89%E5%91%BD%E5%90%8D%E5%8F%82%E6%95%B0"><span class="post-toc-text">可选命名参数</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%8F%AF%E9%80%89%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0"><span class="post-toc-text">可选位置参数</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0%E5%80%BC"><span class="post-toc-text">默认参数值</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%8C%BF%E5%90%8D%E6%96%B9%E6%B3%95"><span class="post-toc-text">匿名方法</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%BC%82%E5%B8%B8"><span class="post-toc-text">异常</span></a></li></ol>
</div>
<!--<div class="post-back"><i class="material-icons">arrow_back</i></div>-->
<script type="text/javascript">
    menu();
</script>
  </div>
</div>
<div id="bottom-outer">
  <div id="bottom-inner">
    <a  id="top-button" onfocus="this.blur();"><div class="up upinbody" style="background-color:#26A69A"><i class="material-icons material-up">vertical_align_top</i></div></a>


<p >Copyright ©  2017  Walker Denial</p>
<!-- <p >Powered by <a href="https://hexo.io/" target="_blank"> Hexo </a> & Theme - <a href="https://github.com/moumao/hexo-theme-Vateral" target="_blank">Vateral</a></p> -->
<p style="font-size: 10px; margin-top: 0" id="footer-times" data-time="01/10/2017 00:00:00"></p>
<script>
    var beginTime=document.getElementById("footer-times").dataset.time
    function show_date_time(){
        var span=document.getElementById("footer-times")
        window.setTimeout("show_date_time()", 1000);
        BirthDay=new Date(beginTime);//初始日期
        today=new Date();
        timeold=(today.getTime()-BirthDay.getTime());
        sectimeold=timeold/1000
        secondsold=Math.floor(sectimeold);
        msPerDay=24*60*60*1000
        e_daysold=timeold/msPerDay
        daysold=Math.floor(e_daysold);
        e_hrsold=(e_daysold-daysold)*24;
        hrsold=Math.floor(e_hrsold);
        e_minsold=(e_hrsold-hrsold)*60;
        minsold=Math.floor((e_hrsold-hrsold)*60);
        seconds=Math.floor((e_minsold-minsold)*60);
        span.innerHTML="本站已运行"+daysold+"天"+hrsold+"小时"+minsold+"分"+seconds+"秒";
    }
    show_date_time();
</script>

  </div>
</div>

<!--影集界面需要的资源-->



<!-- scripts list from theme config.yml -->

<script src="/js/jquery-3.1.1.min.js"></script>

<script src="/js/materialize.min.js"></script>

<script src="/js/main.min.js"></script>


<script>
    NProgress.start();
    NProgress.done();
    lazy();
    links();
    window.onpopstate = menu();
    //pjax操作
    $(document).pjax('a:not(.nopjax)', '#content-inner', {fragment:'#content-inner', timeout:8000});
    $(document).on('pjax:start', NProgress.start).on('pjax:end', NProgress.done)
        .on('pjax:end', () => {
            dowmdiv();
            lazy();
            toc();
            links();
            menu();
        });
</script>

</body>
</html>
