<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  
  <meta name="keywords" content="Walker Denial">
  <meta name="description" content="This is Walker Denial&#39;s blog!">
  
  <title>Walker Denial</title>
  
    <!-- stylesheets list from config.yml -->
    
      <link rel="stylesheet" href="/css/materialize.min.css">
    
      <link rel="stylesheet" href="/css/main.min.css">
    
  
  <style type="text/css">
      html{
          font-family: sans-serif;
          font-weight: 300;
      }
      @font-face {
          font-family: 'Material Icons';
          font-style: normal;
          font-weight: 400;
          src: url(/fonts/MaterialIcons-Regular.eot);
          src: url(/fonts/MaterialIcons-Regular.woff2) format('woff2'),
          url(/fonts/MaterialIcons-Regular.woff) format('woff'),
          url(/fonts/MaterialIcons-Regular.ttf) format('truetype')
      }
  </style>
<meta name="generator" content="Hexo 7.0.0-rc2"><link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>
<body>
<div id="menu-box"><a href="javascript:void(0)" id="menu" data-activates="slide-out" class="button-collapse menu" ><span class="nav-btn"></span></a></div>
<div id="menu-outer">
  <div id="menu-inner">
      <ul id="slide-out" class="side-nav" >
    <div class="nav-header"  style="background-image: url(/images/header-bg.png);background-color:#26A69A">
    <div class="header-box"><img src="/images/profile.png" ondragstart="return false;"></div>
    <p>Walker Denial</p>
    <div class="nav-link">
        
        <a href="https://twitter.com/WalkerDenial" target="_blank"> <div class="link-box twitter"></div></a>
        
        
        <a  href="https://github.com/WalkerDenial" target="_blank"><div class="link-box github"></div></a>
        
        
        <a href="mailto:mailto:WalkerDenial@gmail.com"><div class="link-box email"></div></a>
        
        
        <a href="http://weibo.com/u/3213135930" target="_blank"><div class="link-box weibo"></div></a>
        
        
        <a href="https://www.zhihu.com/people/walkerdenial/activities" target="_blank"> <div class="link-box zhihu"></div></a>
        
    </div>
    <div class="nav-search">
        <form id="search-form"> <!-- 搜索框相关 -->
            <input type="text" id="local-search-input" name="q" results="0" placeholder="搜索..." class="search form-control" autocomplete="off" autocorrect="off"/>
            <div class="nav-search-img"><i class="material-icons">search</i></div>
        </form>
        <div id="local-search-result"></div> <!-- 搜索结果区 -->
        <p class='no-result'>无搜索结果</p>
    </div>
</div>
    <!--Homepage-->

<li class="nav-list">
    <a href="/" target="_self">
        <div class="nav-ico"><i class="material-icons">home</i> </div><p>主页</p>
    </a>
</li>

<!--archives-->

<li class="nav-list dropdown-btn">
    <a  class=""  target="_self">
        <div class="nav-ico"><i class="material-icons">assignment</i></div><p>归档</p><div class="dropdown-ico"><i class="material-icons">arrow_drop_down</i></div>
    </a>
</li>

<ul class="dropdown-menu dropdown" >
    <li class="nav-dropdown-list">
        <a class="archive-link" href="/archives/2022/06/">June 2022<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2022/05/">May 2022<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2022/04/">April 2022<span class="archive-count">4</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2022/03/">March 2022<span class="archive-count">2</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/12/">December 2021<span class="archive-count">3</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/11/">November 2021<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/09/">September 2021<span class="archive-count">3</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/08/">August 2021<span class="archive-count">3</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/04/">April 2021<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/03/">March 2021<span class="archive-count">12</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/02/">February 2021<span class="archive-count">2</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/01/">January 2021<span class="archive-count">6</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2020/12/">December 2020<span class="archive-count">5</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2020/11/">November 2020<span class="archive-count">6</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2020/04/">April 2020<span class="archive-count">2</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2018/01/">January 2018<span class="archive-count">2</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2017/12/">December 2017<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2017/11/">November 2017<span class="archive-count">6</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2017/08/">August 2017<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2017/07/">July 2017<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2017/03/">March 2017<span class="archive-count">6</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2017/02/">February 2017<span class="archive-count">20</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2017/01/">January 2017<span class="archive-count">2</span></a>
    </li>
</ul>
<!--categories-->

<li class="nav-list dropdown-btn">
    <a   class=""  target="_self">
        <div class="nav-ico"><i class="material-icons">dashboard</i></div><p>分类</p><div class="dropdown-ico"><i class="material-icons">arrow_drop_down</i></div>
    </a>
</li>

<ul class="dropdown-menu dropdown" >
    <li class="nav-dropdown-list">
        <a class="category-link" href="/categories/Algorithm/">Algorithm<span class="category-count">1</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/ES6/">ES6<span class="category-count">2</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/Flutter/">Flutter<span class="category-count">7</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/Gradle/">Gradle<span class="category-count">2</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/Java/">Java<span class="category-count">6</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/Kotlin/">Kotlin<span class="category-count">4</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/RPC/">RPC<span class="category-count">3</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/UML/">UML<span class="category-count">1</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E5%85%B6%E4%BB%96/">其他<span class="category-count">2</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E5%86%99%E4%BD%9C/">写作<span class="category-count">1</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端<span class="category-count">10</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统<span class="category-count">7</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E8%87%AA%E5%AD%A6/">自学<span class="category-count">9</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/">计算机系统结构<span class="category-count">7</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络<span class="category-count">2</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式<span class="category-count">27</span></a>
    </li>
</ul>
<!--tags-->

<li class="nav-list">
    <a href="/archives" target="_self">
        <div class="nav-ico"><i class="material-icons">bookmark</i> </div><p>标签</p>
    </a>
</li>

<!--photo-->

<!--friends-->

<!--about-->

<li class="nav-list">
    <a href="/about" target="_self">
        <div class="nav-ico"><i class="material-icons">copyright</i> </div><p>关于</p>
    </a>
</li>


</ul>

  </div>
</div>

<div id="content-outer">
  <div id="content-inner">
    
<article id="post">
  <div class="post-page-title"  style="background-color:#26A69A;background-image:url(/images/random/vateral-14.png)" >
  <h2>进程同步与互斥</h2>
    
  <p>作者 : Walker Denial &nbsp&nbsp 发布于 : <time datetime="2021-03-18T16:35:00.000Z">
          2021-03-19
    </time>
  </p>
    
  </div>
  <div class="post-page-content">
  <p>在一个计算机系统中存在着多个进程，这些进程之间可能有逻辑上的关系，也可能没有逻辑上的关系。进程之间无论是否存在逻辑上的关系，由于它们都要共享或竞争一个计算机系统中的资源，所以不可避免地会互相发生作用。</p>
<p><img src="https://personal-blog.oss-cn-hangzhou.aliyuncs.com/OS_chapter_4.png"></p>
<h1 id="1-进程间的相互作用"><a href="#1-进程间的相互作用" class="headerlink" title="1 进程间的相互作用"></a>1 进程间的相互作用</h1><h2 id="1-1-与时间有关的错误"><a href="#1-1-与时间有关的错误" class="headerlink" title="1.1 与时间有关的错误"></a>1.1 与时间有关的错误</h2><p>一个进程由于自身或外界的原因而可能被中断，且断点是不固定的。至于一个进程被中断后，哪个进程可以先运行，而被中断的进程在什么时候再去占用处理器等问题，则与进程调度策略有关。</p>
<p>进程执行的速度是不能由进程自身控制的。对于相关进程来说，可能有若干并发进程同时使用共享资源，即一个进程一次使用未结束，另一进程也开始使用，形成交替使用共享资源。</p>
<h2 id="1-2-进程同步互斥举例"><a href="#1-2-进程同步互斥举例" class="headerlink" title="1.2 进程同步互斥举例"></a>1.2 进程同步互斥举例</h2><p>同步举例：进程 A 和进程 B 共享缓冲器，如果不同步，就会出现数据丢失或重复读。</p>
<p>互斥举例：多个进程在竞争使用打印机、变量、表格等资源。</p>
<h1 id="2-进程互斥"><a href="#2-进程互斥" class="headerlink" title="2 进程互斥"></a>2 进程互斥</h1><p>在系统中，许多进程常常需要共享资源，而这些资源往往要求排他性的使用，即一次只能为一个进程服务，因此，各进程间只能互斥使用这些资源，进程间的这种关系就是进程的互斥。</p>
<h2 id="2-1-临界区"><a href="#2-1-临界区" class="headerlink" title="2.1 临界区"></a>2.1 临界区</h2><p>若在系统中的某些资源一次只允许一个进程使用，则这类资源成为临界资源或共享变量，而在进程中访问临界资源的程序称为临界区。</p>
<h2 id="2-2-临界区的使用规则"><a href="#2-2-临界区的使用规则" class="headerlink" title="2.2 临界区的使用规则"></a>2.2 临界区的使用规则</h2><ol>
<li>当临界区为空时，若有一个进程要求进入临界区，应允许它立即进入临界区 — 有空让进；</li>
<li>若有一个进程已在临界区时，其他要求进入临界区的进程必须等待 – 无空等待；</li>
<li>当没有进程在临界区，而同时有多个进程要求进入临界区，只能让其中之一进入临界区，其他进程必须等待 – 多种择一；</li>
<li>任一进程进入临界区的要求应在有限时间满足 — 有限等待；</li>
<li>处于等待状态的进程应放弃占用处理器 — 让权等待；</li>
</ol>
<h2 id="2-3-进程互斥为题的传统解决方案"><a href="#2-3-进程互斥为题的传统解决方案" class="headerlink" title="2.3 进程互斥为题的传统解决方案"></a>2.3 进程互斥为题的传统解决方案</h2><p>以打印机为例，采用队列存放请求，按顺序取出数据并进行作业。</p>
<h1 id="3-进程同步"><a href="#3-进程同步" class="headerlink" title="3 进程同步"></a>3 进程同步</h1><p>进程的同步是指进程之间一种直接的协同工作关系，一些进程相互合作，共同完成一项任务。进程之间的同步也是进程间的一种直接制约关系，一个进程的执行依赖另一个进程的消息，当一个进程执行到某一点时，必须得到另一个进程发来的消息，在没有得到另一个进程的消息时该进程应该等待，直到消息到达才被唤醒，继续程序的执行。</p>
<h1 id="4-信号量机制"><a href="#4-信号量机制" class="headerlink" title="4 信号量机制"></a>4 信号量机制</h1><h2 id="4-1-信号量的定义"><a href="#4-1-信号量的定义" class="headerlink" title="4.1 信号量的定义"></a>4.1 信号量的定义</h2><p>信号量是一种特殊的变量，它的表面形式是一个整形变量附加一个队列；而且，它只能被特殊的操作（即 P 操作和 V 操作）使用。P 操作和 V 操作都是原语。</p>
<h2 id="4-2-P、V-操作的定义"><a href="#4-2-P、V-操作的定义" class="headerlink" title="4.2 P、V 操作的定义"></a>4.2 P、V 操作的定义</h2><p>P：等待；</p>
<p>V：发信号；</p>
<h2 id="4-3-信号量和-P、V-操作的物理含义"><a href="#4-3-信号量和-P、V-操作的物理含义" class="headerlink" title="4.3 信号量和 P、V 操作的物理含义"></a>4.3 信号量和 P、V 操作的物理含义</h2><p>P 操作和 V 操作是对信号量 S 进行的，有关信号量 S 和 P、V 操作的物理含义可以进一步说明如下。</p>
<p>信号量 S 表示某类可用的临界资源。对于不同的临界资源，则用不同的信号量表示。</p>
<p>当 S &gt; 0 时，S 值的大小表示某类可用资源的数量，即表示有该类资源可以分配。</p>
<p>当 S &lt; 0 时，表示没有可分配的资源数量，其 S 的绝对值表示排在 S 信号量的等待队列中进程的数目。</p>
<p>每执行一次 P 操作，意味着请求的进程分配到一个资源；每执行一次 V 操作，意味着进程释放了一个资源。</p>
<h1 id="5-经典的同步互斥问题"><a href="#5-经典的同步互斥问题" class="headerlink" title="5 经典的同步互斥问题"></a>5 经典的同步互斥问题</h1><h2 id="5-1-生产者-—-消费者问题"><a href="#5-1-生产者-—-消费者问题" class="headerlink" title="5.1 生产者 — 消费者问题"></a>5.1 生产者 — 消费者问题</h2><p>设有一个生产者进程 P，一个消费者进程 Q，它们通过一个缓冲区联系起来，缓冲区只能容纳一个产品，生产者不断地生产产品，然后往空缓冲区送产品；而消费者则不断地从缓冲区中取出产品，并消费掉。</p>
<h2 id="5-2-读者-—-写者问题"><a href="#5-2-读者-—-写者问题" class="headerlink" title="5.2 读者 — 写者问题"></a>5.2 读者 — 写者问题</h2><p>假设有某个共享文件 F，系统允许若干进程对文件 F 进行读或写。这里把要读文件的进程称为读者，把要写文件的进程称为写者。读者和写者必须遵守如下的规定：</p>
<ol>
<li>多个进程可以同时读文件 F；</li>
<li>任一个进程在对文件 F 进行写时，不允许其他进程对文件进行读或写；</li>
<li>当有进程正在读文件时不允许任何进程去写文件；</li>
</ol>
<h1 id="6-管程机制"><a href="#6-管程机制" class="headerlink" title="6 管程机制"></a>6 管程机制</h1><p>采用信号量及 P、V 同步机制来编写并发程序，对于共享变量及信号量变量的操作将被分散于各个进程中，其缺点如下：</p>
<ol>
<li>程序易读性差；</li>
<li>程序不利于修改和维护；</li>
<li>正确性难以保证；</li>
</ol>
<h2 id="6-1-管程的概念"><a href="#6-1-管程的概念" class="headerlink" title="6.1 管程的概念"></a>6.1 管程的概念</h2><p>一个管程是一个由过程、变量及数据结构等组成的一个集合，它们组成一个特殊的模块或软件包。进程可在任何需要的时候调用管程中的过程，但它们不能在管程之外声明的过程中直接访问管程内的数据结构。</p>
<p>一个管程由四个部分组成：</p>
<ol>
<li>管程名称；</li>
<li>共享数据的说明；</li>
<li>对数据进行操作的一组过程；</li>
<li>对共享数据赋初值的语句；</li>
</ol>
<p>管程能保障共享资源的互斥执行，即一次只能有一个进程可以在管程内活动。该性能是由管程本身实现的。因此，程序员可以不必显示地编写程序代码去实现这种同步制约。</p>
<p>管程具有三个主要的特性：</p>
<ol>
<li>模块化，一个管程是一个基本程序单位，可以单独编译；</li>
<li>抽象数据类型，管程是一种特殊的数据类型，其中不仅有数据，而且有对数据进行操作的代码；</li>
<li>信息隐蔽，管程是半透明的，管程中的外部过程（函数）实现了某些功能，管程中的外部过程（函数）实现了某些功能，至于这些功能是怎样实现的，在其外部则是不可见的；</li>
</ol>
<p>管程有一个很重要的特性，即任一时刻管程中只能有一个活跃进程，这一特性使管程能有效地完成互斥。</p>
<h2 id="6-2-Hoare-管程及设计思想"><a href="#6-2-Hoare-管程及设计思想" class="headerlink" title="6.2 Hoare 管程及设计思想"></a>6.2 Hoare 管程及设计思想</h2><p>在设计 Hoare 管程时，由于管程是互斥进入的，所以当一个进程试图进入一个已被占用的管程时它应当在管程的入口处等待，因而在管程的入口处应当有一个进程等待队列，称作入口等待队列。如果进程 P 唤醒进程 Q，则 P 等待 Q 继续，如果进程 Q 在执行又唤醒进程 R，则 Q 等待 R 继续，···，如此，在管程内部，由于执行唤醒称作，可能会出现多个等待进程，因而还需要有一个进程等待队列，这个等待队列被称为紧急等待队列。它的优先级应当高于入口等待队列的优先级 signal(c)：如果 c 链为空，则相当于空操作，执行此操作的进程继续；否则唤醒第一个等待者，执行此操作的进程的 PCB 入紧急等待队列的尾部。</p>
<h1 id="7-进程通信"><a href="#7-进程通信" class="headerlink" title="7 进程通信"></a>7 进程通信</h1><p>一个进程在运行过程中，可能需要与其他进程进行信息交换。进程间交换的信息流可多可少，少的只是交换一些已定义的状态值或数值，例如信号量和 P、V 操作；多的则可交换大量信息。P、V 操作是一类低级通信原语，不能承担进程间大量信息的交换任务，因此需要引入新的进程通信原语，解决大量信息交换问题。</p>
<h2 id="7-1-共享内存"><a href="#7-1-共享内存" class="headerlink" title="7.1 共享内存"></a>7.1 共享内存</h2><p>在相互通信的进程之间设有一个公共内存区，一组进程向该公共内存中写，另一组进程从公共内存中读，通过这种方式实现两组进程间的信息交换。</p>
<p>这种通信模式需要解决两个问题：</p>
<ol>
<li>怎样提供共享内存；</li>
<li>公共内存中的读写互斥问题；</li>
</ol>
<h2 id="7-2-消息队列"><a href="#7-2-消息队列" class="headerlink" title="7.2 消息队列"></a>7.2 消息队列</h2><p>根据「生产者 — 消费者」原理，利用内存中公用消息缓冲区实现进程之间的信息交换。</p>
<p>内存中开辟了若干消息缓冲区，用于存储消息。每当一个进程（发送进程）向另一个进程（接收进程）发送消息时，便申请一个消息缓冲区，并把已准备好的消息送到缓冲区，然后把该消息缓冲区插入到接收进程的消息队列中，最后通知接收进程。接收进程收到发送进程发来的通知后，从本进程的消息队列中摘下一消息缓冲区，取出所需的信息，然后把消息缓冲区还给系统。系统负责管理公用消息缓冲区以及消息的传递。</p>
<p>一个进程可以给若干个进程发送消息，反之，一个进程可以接收不同进程发来的消息。显然，进程中关于消息队列的操作是临界区。当发送进程正往接收进程的消息队列中添加一条消息时，接收进程不能同时从该消息队列中取出消息；反之也一样。</p>
<p>消息缓冲区通信机制包含以下内容：</p>
<ol>
<li>消息缓冲区：包含：消息长度、消息正文、发送者、消息队列指针；</li>
<li>消息队列首指针 m_q，一般保存在 PCB 中；</li>
<li>互斥信号量 m_mutex，初值为 1，用于互斥访问消息队列，在 PCB 中设置；</li>
<li>同步信号量 m_syn，初值为 0，用于消息计数，在 PCB 中设置；</li>
<li>发送消息原语 send（receive，a）；</li>
<li>接收消息原语 receive（a）；</li>
</ol>
<h2 id="7-3-信箱机制"><a href="#7-3-信箱机制" class="headerlink" title="7.3 信箱机制"></a>7.3 信箱机制</h2><p>为了实现进程间的通信，可以设立一个通信机构 — 信箱，以发送信件以及接收回答信件为进程间通信的基本方式。</p>
<p>当一个进程希望与另一个进程通信时，就创建一个链接两个进程的信箱，发送进程吧信件投入信箱，而接收进程可以在任何时刻取走信件。</p>
<p>一个信箱的结构可以有「信箱说明」和「信箱体」两部分组成。</p>
<p>「信箱说明」中，一般有如下的数据结构：</p>
<ol>
<li>可存信件数：在设立信箱时预先确定的，表明信箱的容量大小；</li>
<li>已有信件数：指出信箱中已有信件的数量；</li>
</ol>
<h2 id="7-4-管道"><a href="#7-4-管道" class="headerlink" title="7.4 管道"></a>7.4 管道</h2><p>管道（Pipe）通信首先出现在 UNIX 操作系统中。作为 UNIX 的一大特色，管道通信立即引起了人们的兴趣。由于管道通信的有效性，一些系统继 UNIX 之后相继引入了管道技术，管道通信是一种重要的通信方式。</p>
<p>所谓管道，就是连接两个进程之间的一个打开的共享文件，专用于进程之间进行数据通信。发送进程可以源源不断地从管道一端写入数据流，每次写入的信息长度是可变的；接收进程在需要时可以从管道的另一端读出数据，读出单位长度也是可变的。显然，管道通信的基础是文件系统。</p>
<p>在对管道文件进行读写操作过程中，发送进程和接收进程要实施正确的同步和互斥，以确保通信的正确性。管道通信机制中的同步与互斥都由操作系统自动进程，对用户是透明的。</p>
<p>管道通信具有传送数据量大的优点，但通信速度较慢。</p>

  </div>
  <!--评论块-->
    

</article>
<nav class="post-nav">
  <!-- Prev Nav -->
    
  <a href="/2021/03/19/操作系统/死锁/" id="post_nav-newer" class="post-nav-content prev-content">
      <上一篇
  </a>
    


  <!-- Next Nav -->
    
  <a href="/2021/03/17/操作系统/进程与线程/" id="post_nav-older" class="post-nav-content next-content">
      下一篇>
  </a>
    
</nav>
<div class="post-toc-btn"><i class="material-icons">format_list_numbered</i></div>
<div class="post-toc-none"><p>(无)</p></div>
<div class="post-toc-box">
    <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#1-%E8%BF%9B%E7%A8%8B%E9%97%B4%E7%9A%84%E7%9B%B8%E4%BA%92%E4%BD%9C%E7%94%A8"><span class="post-toc-text">1 进程间的相互作用</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-1-%E4%B8%8E%E6%97%B6%E9%97%B4%E6%9C%89%E5%85%B3%E7%9A%84%E9%94%99%E8%AF%AF"><span class="post-toc-text">1.1 与时间有关的错误</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-2-%E8%BF%9B%E7%A8%8B%E5%90%8C%E6%AD%A5%E4%BA%92%E6%96%A5%E4%B8%BE%E4%BE%8B"><span class="post-toc-text">1.2 进程同步互斥举例</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#2-%E8%BF%9B%E7%A8%8B%E4%BA%92%E6%96%A5"><span class="post-toc-text">2 进程互斥</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-1-%E4%B8%B4%E7%95%8C%E5%8C%BA"><span class="post-toc-text">2.1 临界区</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-2-%E4%B8%B4%E7%95%8C%E5%8C%BA%E7%9A%84%E4%BD%BF%E7%94%A8%E8%A7%84%E5%88%99"><span class="post-toc-text">2.2 临界区的使用规则</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-3-%E8%BF%9B%E7%A8%8B%E4%BA%92%E6%96%A5%E4%B8%BA%E9%A2%98%E7%9A%84%E4%BC%A0%E7%BB%9F%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="post-toc-text">2.3 进程互斥为题的传统解决方案</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#3-%E8%BF%9B%E7%A8%8B%E5%90%8C%E6%AD%A5"><span class="post-toc-text">3 进程同步</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#4-%E4%BF%A1%E5%8F%B7%E9%87%8F%E6%9C%BA%E5%88%B6"><span class="post-toc-text">4 信号量机制</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-1-%E4%BF%A1%E5%8F%B7%E9%87%8F%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="post-toc-text">4.1 信号量的定义</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-2-P%E3%80%81V-%E6%93%8D%E4%BD%9C%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="post-toc-text">4.2 P、V 操作的定义</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-3-%E4%BF%A1%E5%8F%B7%E9%87%8F%E5%92%8C-P%E3%80%81V-%E6%93%8D%E4%BD%9C%E7%9A%84%E7%89%A9%E7%90%86%E5%90%AB%E4%B9%89"><span class="post-toc-text">4.3 信号量和 P、V 操作的物理含义</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#5-%E7%BB%8F%E5%85%B8%E7%9A%84%E5%90%8C%E6%AD%A5%E4%BA%92%E6%96%A5%E9%97%AE%E9%A2%98"><span class="post-toc-text">5 经典的同步互斥问题</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-1-%E7%94%9F%E4%BA%A7%E8%80%85-%E2%80%94-%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98"><span class="post-toc-text">5.1 生产者 — 消费者问题</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-2-%E8%AF%BB%E8%80%85-%E2%80%94-%E5%86%99%E8%80%85%E9%97%AE%E9%A2%98"><span class="post-toc-text">5.2 读者 — 写者问题</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#6-%E7%AE%A1%E7%A8%8B%E6%9C%BA%E5%88%B6"><span class="post-toc-text">6 管程机制</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#6-1-%E7%AE%A1%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="post-toc-text">6.1 管程的概念</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#6-2-Hoare-%E7%AE%A1%E7%A8%8B%E5%8F%8A%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3"><span class="post-toc-text">6.2 Hoare 管程及设计思想</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#7-%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1"><span class="post-toc-text">7 进程通信</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#7-1-%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98"><span class="post-toc-text">7.1 共享内存</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#7-2-%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97"><span class="post-toc-text">7.2 消息队列</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#7-3-%E4%BF%A1%E7%AE%B1%E6%9C%BA%E5%88%B6"><span class="post-toc-text">7.3 信箱机制</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#7-4-%E7%AE%A1%E9%81%93"><span class="post-toc-text">7.4 管道</span></a></li></ol></li></ol>
</div>
<!--<div class="post-back"><i class="material-icons">arrow_back</i></div>-->
<script type="text/javascript">
    menu();
</script>
  </div>
</div>
<div id="bottom-outer">
  <div id="bottom-inner">
    <a  id="top-button" onfocus="this.blur();"><div class="up upinbody" style="background-color:#26A69A"><i class="material-icons material-up">vertical_align_top</i></div></a>


<p >Copyright ©  2017  Walker Denial</p>
<!-- <p >Powered by <a href="https://hexo.io/" target="_blank"> Hexo </a> & Theme - <a href="https://github.com/moumao/hexo-theme-Vateral" target="_blank">Vateral</a></p> -->
<p style="font-size: 10px; margin-top: 0" id="footer-times" data-time="01/10/2017 00:00:00"></p>
<script>
    var beginTime=document.getElementById("footer-times").dataset.time
    function show_date_time(){
        var span=document.getElementById("footer-times")
        window.setTimeout("show_date_time()", 1000);
        BirthDay=new Date(beginTime);//初始日期
        today=new Date();
        timeold=(today.getTime()-BirthDay.getTime());
        sectimeold=timeold/1000
        secondsold=Math.floor(sectimeold);
        msPerDay=24*60*60*1000
        e_daysold=timeold/msPerDay
        daysold=Math.floor(e_daysold);
        e_hrsold=(e_daysold-daysold)*24;
        hrsold=Math.floor(e_hrsold);
        e_minsold=(e_hrsold-hrsold)*60;
        minsold=Math.floor((e_hrsold-hrsold)*60);
        seconds=Math.floor((e_minsold-minsold)*60);
        span.innerHTML="本站已运行"+daysold+"天"+hrsold+"小时"+minsold+"分"+seconds+"秒";
    }
    show_date_time();
</script>

  </div>
</div>

<!--影集界面需要的资源-->



<!-- scripts list from theme config.yml -->

<script src="/js/jquery-3.1.1.min.js"></script>

<script src="/js/materialize.min.js"></script>

<script src="/js/main.min.js"></script>


<script>
    NProgress.start();
    NProgress.done();
    lazy();
    links();
    window.onpopstate = menu();
    //pjax操作
    $(document).pjax('a:not(.nopjax)', '#content-inner', {fragment:'#content-inner', timeout:8000});
    $(document).on('pjax:start', NProgress.start).on('pjax:end', NProgress.done)
        .on('pjax:end', () => {
            dowmdiv();
            lazy();
            toc();
            links();
            menu();
        });
</script>

</body>
</html>
