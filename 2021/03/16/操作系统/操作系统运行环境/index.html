<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  
  <meta name="keywords" content="Walker Denial">
  <meta name="description" content="This is Walker Denial&#39;s blog!">
  
  <title>Walker Denial</title>
  
    <!-- stylesheets list from config.yml -->
    
      <link rel="stylesheet" href="/css/materialize.min.css">
    
      <link rel="stylesheet" href="/css/main.min.css">
    
  
  <style type="text/css">
      html{
          font-family: sans-serif;
          font-weight: 300;
      }
      @font-face {
          font-family: 'Material Icons';
          font-style: normal;
          font-weight: 400;
          src: url(/fonts/MaterialIcons-Regular.eot);
          src: url(/fonts/MaterialIcons-Regular.woff2) format('woff2'),
          url(/fonts/MaterialIcons-Regular.woff) format('woff'),
          url(/fonts/MaterialIcons-Regular.ttf) format('truetype')
      }
  </style>
<meta name="generator" content="Hexo 5.4.0"><link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>
<body>
<div id="menu-box"><a href="javascript:void(0)" id="menu" data-activates="slide-out" class="button-collapse menu" ><span class="nav-btn"></span></a></div>
<div id="menu-outer">
  <div id="menu-inner">
      <ul id="slide-out" class="side-nav" >
    <div class="nav-header"  style="background-image: url(/images/header-bg.png);background-color:#26A69A">
    <div class="header-box"><img src="/images/profile.png" ondragstart="return false;"></div>
    <p>Walker Denial</p>
    <div class="nav-link">
        
        <a href="https://twitter.com/WalkerDenial" target="_blank"> <div class="link-box twitter"></div></a>
        
        
        <a  href="https://github.com/WalkerDenial" target="_blank"><div class="link-box github"></div></a>
        
        
        <a href="mailto:mailto:WalkerDenial@gmail.com"><div class="link-box email"></div></a>
        
        
        <a href="http://weibo.com/u/3213135930" target="_blank"><div class="link-box weibo"></div></a>
        
        
        <a href="https://www.zhihu.com/people/walkerdenial/activities" target="_blank"> <div class="link-box zhihu"></div></a>
        
    </div>
    <div class="nav-search">
        <form id="search-form"> <!-- 搜索框相关 -->
            <input type="text" id="local-search-input" name="q" results="0" placeholder="搜索..." class="search form-control" autocomplete="off" autocorrect="off"/>
            <div class="nav-search-img"><i class="material-icons">search</i></div>
        </form>
        <div id="local-search-result"></div> <!-- 搜索结果区 -->
        <p class='no-result'>无搜索结果</p>
    </div>
</div>
    <!--Homepage-->

<li class="nav-list">
    <a href="/" target="_self">
        <div class="nav-ico"><i class="material-icons">home</i> </div><p>主页</p>
    </a>
</li>

<!--archives-->

<li class="nav-list dropdown-btn">
    <a  class=""  target="_self">
        <div class="nav-ico"><i class="material-icons">assignment</i></div><p>归档</p><div class="dropdown-ico"><i class="material-icons">arrow_drop_down</i></div>
    </a>
</li>

<ul class="dropdown-menu dropdown" >
    <li class="nav-dropdown-list">
        <a class="archive-link" href="/archives/2022/06/">June 2022<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2022/05/">May 2022<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2022/04/">April 2022<span class="archive-count">4</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2022/03/">March 2022<span class="archive-count">2</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/12/">December 2021<span class="archive-count">3</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/11/">November 2021<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/09/">September 2021<span class="archive-count">3</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/08/">August 2021<span class="archive-count">3</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/04/">April 2021<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/03/">March 2021<span class="archive-count">12</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/02/">February 2021<span class="archive-count">2</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2021/01/">January 2021<span class="archive-count">6</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2020/12/">December 2020<span class="archive-count">5</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2020/11/">November 2020<span class="archive-count">6</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2020/04/">April 2020<span class="archive-count">2</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2018/01/">January 2018<span class="archive-count">2</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2017/12/">December 2017<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2017/11/">November 2017<span class="archive-count">6</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2017/08/">August 2017<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2017/07/">July 2017<span class="archive-count">1</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2017/03/">March 2017<span class="archive-count">6</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2017/02/">February 2017<span class="archive-count">20</span></a></li><li class="nav-dropdown-list"><a class="archive-link" href="/archives/2017/01/">January 2017<span class="archive-count">2</span></a>
    </li>
</ul>
<!--categories-->

<li class="nav-list dropdown-btn">
    <a   class=""  target="_self">
        <div class="nav-ico"><i class="material-icons">dashboard</i></div><p>分类</p><div class="dropdown-ico"><i class="material-icons">arrow_drop_down</i></div>
    </a>
</li>

<ul class="dropdown-menu dropdown" >
    <li class="nav-dropdown-list">
        <a class="category-link" href="/categories/Algorithm/">Algorithm<span class="category-count">1</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/ES6/">ES6<span class="category-count">2</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/Flutter/">Flutter<span class="category-count">7</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/Gradle/">Gradle<span class="category-count">2</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/Java/">Java<span class="category-count">6</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/Kotlin/">Kotlin<span class="category-count">4</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/RPC/">RPC<span class="category-count">3</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/UML/">UML<span class="category-count">1</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E5%85%B6%E4%BB%96/">其他<span class="category-count">2</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E5%86%99%E4%BD%9C/">写作<span class="category-count">1</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端<span class="category-count">10</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统<span class="category-count">7</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E8%87%AA%E5%AD%A6/">自学<span class="category-count">9</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84/">计算机系统结构<span class="category-count">7</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络<span class="category-count">2</span></a></li><li class="nav-dropdown-list"><a class="category-link" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式<span class="category-count">27</span></a>
    </li>
</ul>
<!--tags-->

<li class="nav-list">
    <a href="/archives" target="_self">
        <div class="nav-ico"><i class="material-icons">bookmark</i> </div><p>标签</p>
    </a>
</li>

<!--photo-->

<!--friends-->

<!--about-->

<li class="nav-list">
    <a href="/about" target="_self">
        <div class="nav-ico"><i class="material-icons">copyright</i> </div><p>关于</p>
    </a>
</li>


</ul>

  </div>
</div>

<div id="content-outer">
  <div id="content-inner">
    
<article id="post">
  <div class="post-page-title"  style="background-color:#26A69A;background-image:url(/images/random/vateral-12.png)" >
  <h2>操作系统运行环境</h2>
    
  <p>作者 : Walker Denial &nbsp&nbsp 发布于 : <time datetime="2021-03-16T14:57:00.000Z">
          2021-03-16
    </time>
  </p>
    
  </div>
  <div class="post-page-content">
  <p>操作系统作为一个程序要在处理器上执行。如果一个计算机系统只有一个处理器，我们称之为单机系统，如果有多个处理器则称之为多处理器系统。</p>
<p><img src="https://personal-blog.oss-cn-hangzhou.aliyuncs.com/OS_chapter_2.png"></p>
<h1 id="1-处理器状态及状态转换"><a href="#1-处理器状态及状态转换" class="headerlink" title="1 处理器状态及状态转换"></a>1 处理器状态及状态转换</h1><h2 id="1-1-特权指令和非特权指令"><a href="#1-1-特权指令和非特权指令" class="headerlink" title="1.1 特权指令和非特权指令"></a>1.1 特权指令和非特权指令</h2><p>特权指令：是指令系统中那些只能由操作系统使用的指令。这些特权指令是不允许一般的用户使用的，因为如果允许用户随便使用这些指令，就有可能是系统陷入混乱。</p>
<p>用户只能使用非特权指令，只有操作系统才能使用所有的指令。</p>
<p>如果一个用户程序需要使用特权指令，一般将引起一次处理器状态的切换，这时处理器通过特殊的机制，将处理器状态切换到操作系统运行的特权状态，然后将处理权移交给操作系统中的一段特殊代码。这一过程通常形象地称为 <strong>陷入（Trap）</strong>。</p>
<h2 id="1-2-控制寄存器及程序状态字"><a href="#1-2-控制寄存器及程序状态字" class="headerlink" title="1.2 控制寄存器及程序状态字"></a>1.2 控制寄存器及程序状态字</h2><p>最常见的控制和状态寄存器有程序计数器（Program Counter，PC），它记录了将要取出的指令的地址；指令寄存器（Instruction Register，IR），包含了最近取出的指令；程序状态字（Program Status Word， PSW），它记录了处理器的运行模式信息等。</p>
<p>为了解决处理器当前工作状态的问题，所有的处理器都有一些特殊寄存器，用以表明处理器当前的工作状态。比如用一个专门的寄存器来指示处理器状态，称为程序状态字（PSW）；</p>
<p>处理器的状态字（PSW）通常包含以下状态代码：</p>
<ol>
<li>CPU 的工作状态代码 — 指明当前处理器的工作状态是管态还是目态，用来说明当前在处理器上执行的是操作系统还是一般用户，从而决定其是否可以使用特权指令或拥有其他的特殊权力；</li>
<li>条件码 — 反映质量执行后的结果特征；</li>
<li>中断屏蔽码 — 指出是否允许中断；</li>
</ol>
<p>部分标志位：</p>
<blockquote>
<p>CF：进位标志位；<br>ZF：结果为零标志位；<br>SF：符号标志位；<br>OF：溢出标志位；<br>TF：陷阱标志位；<br>IF：中断使能（中断屏蔽）标志位；<br>VIF：虚拟中断标志位；<br>VIP：虚拟中断待决标志位；<br>IOPL：IO 特权级别；</p>
</blockquote>
<h2 id="1-3-处理器状态及状态转换"><a href="#1-3-处理器状态及状态转换" class="headerlink" title="1.3 处理器状态及状态转换"></a>1.3 处理器状态及状态转换</h2><p>在执行不同程序时，根据运行程序对资源和机器指令的使用权限而将此时的处理器设置为不同的状态。</p>
<p>多数系统将处理器工作状态划分为管态和目态。前者一般指操作系统管理程序运行的状态，具有较高的特权级别，又称为内核态、特权态（特态）、系统态；后者一般指用户程序运行时的状态，具有较低的特权级别，又称为用户态、普通胎（普态）。</p>
<h3 id="1-3-1-目态到管态的转换"><a href="#1-3-1-目态到管态的转换" class="headerlink" title="1.3.1 目态到管态的转换"></a>1.3.1 目态到管态的转换</h3><p>转换的唯一途径是通过中断。中断响应时交换中断向量，新的中断向量中的 PSW 的处理器状态位标志为管态。</p>
<h3 id="1-3-2-管态到目态的转换"><a href="#1-3-2-管态到目态的转换" class="headerlink" title="1.3.2 管态到目态的转换"></a>1.3.2 管态到目态的转换</h3><p>可通过设置 PSW 指令（修改程序状态字），实现从操作系统向用户程序的转换。</p>
<h1 id="2-中断-异常机制"><a href="#2-中断-异常机制" class="headerlink" title="2 中断/异常机制"></a>2 中断/异常机制</h1><p>中断机制是操作系统中极为重要的一个部分。操作系统在管理输入输出设备时，在处理外部的各种事件时，都要通过中断机制进行处理。所以也有人把操作系统称为是由「中断驱动」或者「（中断）事件驱动」的。</p>
<p>由于中断机制的实现必须依靠相关的硬件支持，所以硬件中断装置是操作系统运行环境中的一个极为重要的组成部分。中断的实现是硬件中断装置和相应的中断处理软件共同完成的。</p>
<h2 id="2-1-中断-异常的基本概念"><a href="#2-1-中断-异常的基本概念" class="headerlink" title="2.1 中断/异常的基本概念"></a>2.1 中断/异常的基本概念</h2><p>中断是指处理器对系统中或系统外发生的异步事件的响应。异步事件是指一定时序关系的随机发生的事件，如外部设备完成了数据传输任务，某一实时控制设备出现异常情况等。</p>
<p>最早中断和异常并没有区分，都把它们叫做中断。随着它们的发生原因和处理方式的差别愈发明显，才有了现在的中断和异常之分。</p>
<p>中断是由外部事件引发的，而异常则是由正在执行的指令引发的。</p>
<h2 id="2-2-中断-异常的类型"><a href="#2-2-中断-异常的类型" class="headerlink" title="2.2 中断/异常的类型"></a>2.2 中断/异常的类型</h2><p>典型的中断包括：</p>
<ol>
<li>时钟中断，由处理器内部的计时器产生，运行操作系统以一定规律执行函数，如时间片到时、硬件实时钟到时等；</li>
<li>输入输出（I/O）中断，由 I/O 控制器产生，用于通知一个 I/O 操作的正常完成或发生的错误；</li>
<li>控制台中断，如系统操作员通过控制台发出命令等；</li>
<li>硬件故障中断，由掉电、存储器校验错等硬件故障引起等；</li>
</ol>
<p>异常发生的时间及位置具有确定性，典型的异常包括：</p>
<ol>
<li>程序性中断，在某些条件下由指令执行结果产生，例如算术溢出、被零除等；</li>
<li>访管指令异常，目的是要求操作系统提供系统服务；</li>
</ol>
<h2 id="2-3-中断-异常响应过程"><a href="#2-3-中断-异常响应过程" class="headerlink" title="2.3 中断/异常响应过程"></a>2.3 中断/异常响应过程</h2><p>中断请求的响应机制如下。处理器的控制部件中设置有中断信号扫描结构，它在每条指令执行周期内的最后时刻扫描中断寄存器，查看是否有中断信号到来。若无中断信号，处理器就继续执行下一条指令。若有中断到来，处理器接收由硬件中断装置发来的中断向量代号。</p>
<p>接着，处理器开始为后续的软件处理中断做必要的准备工作：保存中断点的程序执行上下文环境（又称现场保存）。</p>
<p>处理器根据中断向量代号查询中断向量表，获得与该中断源相联系的中断处理程序的入口地址，并将 PC 置成该地址。随后控制权转移到中断处理程序。</p>
<ol>
<li>处理器接收中断信号；</li>
<li>保护现场，将中断断点的程序状态字 PSW 和程序计数器 PC 值存入系统堆栈；</li>
<li>分析中断向量，取得中断处理程序的入口地址；</li>
<li>将处理器的 PC 值置为中断处理程序的入口地址；</li>
<li>调用中断处理程序；</li>
</ol>
<h2 id="2-4-中断-异常处理程序"><a href="#2-4-中断-异常处理程序" class="headerlink" title="2.4 中断/异常处理程序"></a>2.4 中断/异常处理程序</h2><ol>
<li>接收和响应中断；</li>
<li>保护中断断点现场；</li>
<li>分析中断向量；</li>
<li>调用中断处理程序；</li>
<li>中断处理结束恢复现场；</li>
<li>原有程序继续执行；</li>
</ol>
<h1 id="3-计算机系统中的相关硬件部件"><a href="#3-计算机系统中的相关硬件部件" class="headerlink" title="3 计算机系统中的相关硬件部件"></a>3 计算机系统中的相关硬件部件</h1><p>在计算机系统中，中央处理器能直接访问的唯一的存储空间是内存储器。任何程序和数据必须被装入内存储器之后，中央处理器才能对它们进行操作，因而一个作业必须把它的程序和数据存储在内存储器中才能运行，而且操作系统本身也要存储在内存储器中并运行。</p>
<h2 id="3-1-存储系统"><a href="#3-1-存储系统" class="headerlink" title="3.1 存储系统"></a>3.1 存储系统</h2><p>类型：读写型存储器和只读型存储器。</p>
<h3 id="3-1-1-存储分块"><a href="#3-1-1-存储分块" class="headerlink" title="3.1.1 存储分块"></a>3.1.1 存储分块</h3><p>存储的最小单位称为「二进位」，它包含的信息为 0 或 1。存储器的最小编址单位是字节，一个字节一般包含 8 个二进位。而 2 个字节一般称为一个字，4 个字节称为双字。</p>
<p>为了简化对存储器的分配和管理，在不少计算机系统中把存储器分成块。在为用户分配内存空间时，以块为最小单位，这样的块有时被称为一个物理页（Page）。而块的大小随机器而异，512B、1KB、4KB、8KB 的都有，也有其他大小的。</p>
<h3 id="3-1-2-存储器的层次结构"><a href="#3-1-2-存储器的层次结构" class="headerlink" title="3.1.2 存储器的层次结构"></a>3.1.2 存储器的层次结构</h3><p>从整个系统来看，在计算机系统中的层次化的存储体系是由寄存器、高速缓存、内存储器、硬盘存储器、磁带机和光盘存储器等装置构成的。较小、较贵而快速的存储设备由较大、较便宜而慢速的存储设备作后盾，在整体上通过对访问频率的控制来提高存储系统的性能。</p>
<h3 id="3-1-3-存储器保护"><a href="#3-1-3-存储器保护" class="headerlink" title="3.1.3 存储器保护"></a>3.1.3 存储器保护</h3><p>存储在内存中的用户程序和操作系统，以及它们的数据，有可能受到正在 CPU 上运行的某用户程序的有意或无意的破坏，这会造成十分严重的后果。一旦有程序向操作系统区写入了数据，将有可能造成系统崩溃。对内存中的信息加以严格的保护，使操作系统及其他程序不被破坏，是其正确运行的基本条件之一。</p>
<h2 id="3-2-I-O-部件"><a href="#3-2-I-O-部件" class="headerlink" title="3.2 I/O 部件"></a>3.2 I/O 部件</h2><h3 id="3-2-1-I-O-结构"><a href="#3-2-1-I-O-结构" class="headerlink" title="3.2.1 I/O 结构"></a>3.2.1 I/O 结构</h3><p>在每台外部设备中都配有各自的 I/O 设备控制器，由 I/O 设备控制器分别控制各台外部设备的运行。在 I/O 设备控制器与处理器之间的 I/O 硬件结构，则有不同的方案。</p>
<h3 id="3-2-2-通道"><a href="#3-2-2-通道" class="headerlink" title="3.2.2 通道"></a>3.2.2 通道</h3><p>通道是独立于中央处理器的，专门负责数据 I/O 传输工作的处理单元。从现代计算机系统的结构上看，各种外部设备均配有响应的设备控制器，这些设备控制器再通过通道连接在计算机系统的公共系统总线上。</p>
<p>通道对外部设备实行统一的管理，它代理处理器对 I/O 操作进行控制，从而使处理器和外部设备可以并行工作。所以通道又称为 I/O 处理器。</p>
<h3 id="3-2-3-DMA-技术"><a href="#3-2-3-DMA-技术" class="headerlink" title="3.2.3 DMA 技术"></a>3.2.3 DMA 技术</h3><p>直接存储器访问（Direct Memory Access，DMA）技术通过系统总线中的一个独立控制单元 — DMA 控制器，自动地控制成块数据在内存和 I/O 单元之间的传送。当处理器需要读写一整块数据的时候，它给 DMA 控制单元发送一条命令，在命令中通常包含了 I/O 设备的标志、开始读或写的内存编址、需要传送的数据长度、是否请求一次读或写等信息。处理器在给 DMA 控制单元发送完一条命令之后，就可以处理其他的事情了。而 DMA 控制器将自动管理整块数据的传送。当这个传送过程完成后，它会给处理器发一个中断。这样处理器只需要在整块数据开始传送和传送结束时关注以下就可以了。</p>
<h3 id="3-2-4-缓冲技术"><a href="#3-2-4-缓冲技术" class="headerlink" title="3.2.4 缓冲技术"></a>3.2.4 缓冲技术</h3><p>缓存技术是用在外部设备与其他硬件部件之间的一种数据暂存技术，它利用存储器件在外部设备中设置了数据的一个存储区域，称为缓冲区。缓冲技术一般有两种用途，一种是用在外部设备与外部设备之间的通信上的，还有一种是用在外部设备和处理器之间的。</p>
<p>采用缓存技术最根本的原因是，处理器处理数据速度与设备传输数据速度不相匹配，需要用缓冲区环节其间的速度矛盾。</p>
<h2 id="3-3-时钟"><a href="#3-3-时钟" class="headerlink" title="3.3 时钟"></a>3.3 时钟</h2><p>时钟一般分为硬件时钟和软件时钟。</p>
<p>硬件时钟的工作原理是，在电路中的晶体振荡器，每隔一定间隔产生固定的脉冲频率，时钟电路中的时钟寄存器依据时钟电路所产生的脉冲数，对时钟寄存器进行加 1 的工作。</p>
<p>软件时钟，常用作相对时钟，它的工作原理主要是利用内存单元模拟时钟寄存器，并采用一段程序来计算相应的脉冲数，对内存时钟寄存器进行加 1 或减 1 的工作，从而模拟了时钟的功能。</p>
<p>时钟的用途可以分为绝对时钟和相对时钟。</p>
<p>绝对时钟是在计算机系统中不受外界干扰、独立运行的一种时钟。一般来说，绝对时钟很准确，它通常不会被停止，当计算机系统关机时，绝对时钟值仍然始终不停地保持运行，作为整个计算机系统中的时间参考基准。</p>
<p>相对时钟又称间隔时钟。它只计算从某一个时间初值开始的一段时间间隔。由操作人员置上时间间隔的初值，以后每经过一个单位的时间，时钟值自动减 1，知道该值为负时，则触发一个时钟中断，并进行相应的处理。</p>
<h1 id="4-系统调用"><a href="#4-系统调用" class="headerlink" title="4 系统调用"></a>4 系统调用</h1><p>系统调用，就是用户在程序中调用操作系统所提供的一些子功能。这是一种特殊的过程调用，这种调用通常是由特殊的机器指令实现的。除了提供对操作系统字程序的调用外，这条指令还将系统转入特权方式（管态）。</p>

  </div>
  <!--评论块-->
    

</article>
<nav class="post-nav">
  <!-- Prev Nav -->
    
  <a href="/2021/03/17/操作系统/进程与线程/" id="post_nav-newer" class="post-nav-content prev-content">
      <上一篇
  </a>
    


  <!-- Next Nav -->
    
  <a href="/2021/03/14/操作系统/操作系统概论/" id="post_nav-older" class="post-nav-content next-content">
      下一篇>
  </a>
    
</nav>
<div class="post-toc-btn"><i class="material-icons">format_list_numbered</i></div>
<div class="post-toc-none"><p>(无)</p></div>
<div class="post-toc-box">
    <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#1-%E5%A4%84%E7%90%86%E5%99%A8%E7%8A%B6%E6%80%81%E5%8F%8A%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2"><span class="post-toc-text">1 处理器状态及状态转换</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-1-%E7%89%B9%E6%9D%83%E6%8C%87%E4%BB%A4%E5%92%8C%E9%9D%9E%E7%89%B9%E6%9D%83%E6%8C%87%E4%BB%A4"><span class="post-toc-text">1.1 特权指令和非特权指令</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-2-%E6%8E%A7%E5%88%B6%E5%AF%84%E5%AD%98%E5%99%A8%E5%8F%8A%E7%A8%8B%E5%BA%8F%E7%8A%B6%E6%80%81%E5%AD%97"><span class="post-toc-text">1.2 控制寄存器及程序状态字</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-3-%E5%A4%84%E7%90%86%E5%99%A8%E7%8A%B6%E6%80%81%E5%8F%8A%E7%8A%B6%E6%80%81%E8%BD%AC%E6%8D%A2"><span class="post-toc-text">1.3 处理器状态及状态转换</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-3-1-%E7%9B%AE%E6%80%81%E5%88%B0%E7%AE%A1%E6%80%81%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="post-toc-text">1.3.1 目态到管态的转换</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-3-2-%E7%AE%A1%E6%80%81%E5%88%B0%E7%9B%AE%E6%80%81%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="post-toc-text">1.3.2 管态到目态的转换</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#2-%E4%B8%AD%E6%96%AD-%E5%BC%82%E5%B8%B8%E6%9C%BA%E5%88%B6"><span class="post-toc-text">2 中断&#x2F;异常机制</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-1-%E4%B8%AD%E6%96%AD-%E5%BC%82%E5%B8%B8%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="post-toc-text">2.1 中断&#x2F;异常的基本概念</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-2-%E4%B8%AD%E6%96%AD-%E5%BC%82%E5%B8%B8%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="post-toc-text">2.2 中断&#x2F;异常的类型</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-3-%E4%B8%AD%E6%96%AD-%E5%BC%82%E5%B8%B8%E5%93%8D%E5%BA%94%E8%BF%87%E7%A8%8B"><span class="post-toc-text">2.3 中断&#x2F;异常响应过程</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-4-%E4%B8%AD%E6%96%AD-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E7%A8%8B%E5%BA%8F"><span class="post-toc-text">2.4 中断&#x2F;异常处理程序</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#3-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E4%B8%AD%E7%9A%84%E7%9B%B8%E5%85%B3%E7%A1%AC%E4%BB%B6%E9%83%A8%E4%BB%B6"><span class="post-toc-text">3 计算机系统中的相关硬件部件</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-1-%E5%AD%98%E5%82%A8%E7%B3%BB%E7%BB%9F"><span class="post-toc-text">3.1 存储系统</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-1-1-%E5%AD%98%E5%82%A8%E5%88%86%E5%9D%97"><span class="post-toc-text">3.1.1 存储分块</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-1-2-%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84"><span class="post-toc-text">3.1.2 存储器的层次结构</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-1-3-%E5%AD%98%E5%82%A8%E5%99%A8%E4%BF%9D%E6%8A%A4"><span class="post-toc-text">3.1.3 存储器保护</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-2-I-O-%E9%83%A8%E4%BB%B6"><span class="post-toc-text">3.2 I&#x2F;O 部件</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-2-1-I-O-%E7%BB%93%E6%9E%84"><span class="post-toc-text">3.2.1 I&#x2F;O 结构</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-2-2-%E9%80%9A%E9%81%93"><span class="post-toc-text">3.2.2 通道</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-2-3-DMA-%E6%8A%80%E6%9C%AF"><span class="post-toc-text">3.2.3 DMA 技术</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-2-4-%E7%BC%93%E5%86%B2%E6%8A%80%E6%9C%AF"><span class="post-toc-text">3.2.4 缓冲技术</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-3-%E6%97%B6%E9%92%9F"><span class="post-toc-text">3.3 时钟</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#4-%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8"><span class="post-toc-text">4 系统调用</span></a></li></ol>
</div>
<!--<div class="post-back"><i class="material-icons">arrow_back</i></div>-->
<script type="text/javascript">
    menu();
</script>
  </div>
</div>
<div id="bottom-outer">
  <div id="bottom-inner">
    <a  id="top-button" onfocus="this.blur();"><div class="up upinbody" style="background-color:#26A69A"><i class="material-icons material-up">vertical_align_top</i></div></a>


<p >Copyright ©  2017  Walker Denial</p>
<!-- <p >Powered by <a href="https://hexo.io/" target="_blank"> Hexo </a> & Theme - <a href="https://github.com/moumao/hexo-theme-Vateral" target="_blank">Vateral</a></p> -->
<p style="font-size: 10px; margin-top: 0" id="footer-times" data-time="01/10/2017 00:00:00"></p>
<script>
    var beginTime=document.getElementById("footer-times").dataset.time
    function show_date_time(){
        var span=document.getElementById("footer-times")
        window.setTimeout("show_date_time()", 1000);
        BirthDay=new Date(beginTime);//初始日期
        today=new Date();
        timeold=(today.getTime()-BirthDay.getTime());
        sectimeold=timeold/1000
        secondsold=Math.floor(sectimeold);
        msPerDay=24*60*60*1000
        e_daysold=timeold/msPerDay
        daysold=Math.floor(e_daysold);
        e_hrsold=(e_daysold-daysold)*24;
        hrsold=Math.floor(e_hrsold);
        e_minsold=(e_hrsold-hrsold)*60;
        minsold=Math.floor((e_hrsold-hrsold)*60);
        seconds=Math.floor((e_minsold-minsold)*60);
        span.innerHTML="本站已运行"+daysold+"天"+hrsold+"小时"+minsold+"分"+seconds+"秒";
    }
    show_date_time();
</script>

  </div>
</div>

<!--影集界面需要的资源-->



<!-- scripts list from theme config.yml -->

<script src="/js/jquery-3.1.1.min.js"></script>

<script src="/js/materialize.min.js"></script>

<script src="/js/main.min.js"></script>


<script>
    NProgress.start();
    NProgress.done();
    lazy();
    links();
    window.onpopstate = menu();
    //pjax操作
    $(document).pjax('a:not(.nopjax)', '#content-inner', {fragment:'#content-inner', timeout:8000});
    $(document).on('pjax:start', NProgress.start).on('pjax:end', NProgress.done)
        .on('pjax:end', () => {
            dowmdiv();
            lazy();
            toc();
            links();
            menu();
        });
</script>

</body>
</html>
